{% extends 'base.html.twig' %}
{% trans_default_domain 'translation' %}

    {% block body %}
        <script>
            $( function() {
                $( ".js-datepicker-1" ).datepicker();
                $( ".js-datepicker-2" ).datepicker();
            });
        </script>
        <style>
            @media print {
                .print_a {
                    overflow: visible !important;
                }
            }
            thead { display: table-header-group; }
            tr{page-break-inside: avoid !important;}
        </style>

        {{ form_start(form) }}
        {{ form_widget(form) }}
        {{ form_end(form) }}
        <br>
        <hr>
        <div class="print_a">
            <table class="table table-sm thead-dark table-bordered">
                <thead>
                <tr>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} Subunit {% endtrans %}</th>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} Data {% endtrans %}</th>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} From {% endtrans %}</th>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} To {% endtrans %}</th>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} Mechanizmas {% endtrans %}</th>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} Job {% endtrans %}</th>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} Job namee {% endtrans %}</th>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} JobQuantity {% endtrans %}</th>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} RoadSectionId {% endtrans %}</th>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} SectionType {% endtrans %}</th>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} SectionBegin {% endtrans %}</th>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} SectionEnd {% endtrans %}</th>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} Salt value {% endtrans %}</th>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} Sand value {% endtrans %}</th>
                    <th style="text-align: center; vertical-align: middle"> {% trans %} Solution value {% endtrans %}</th>
                </tr>
                </thead>
                <tbody>
                {% for job in winter_jobs_report | default('') %}
                <tr>
                        <td rowspan="{{ job.RoadSections|length + 1}}" style="white-space: nowrap;text-align: center; vertical-align: middle">
                            {{ job.SubunitName }}
                        </td>
                        <td rowspan="{{ job.RoadSections|length + 1}}" style="white-space: nowrap;text-align: center; vertical-align: middle">
                            {{ job.Date | date('Y-m-d') }}
                        </td>
                        <td rowspan="{{ job.RoadSections|length + 1}}" style="white-space: nowrap;text-align: center; vertical-align: middle">
                            {{ job.TimeFrom | date('H:m') }}
                        </td>
                        <td rowspan="{{ job.RoadSections|length + 1}}" style="white-space: nowrap;text-align: center; vertical-align: middle">
                            {{ job.TimeTo | date('H:m') }}
                        </td>
                        <td rowspan="{{ job.RoadSections|length + 1}}" style="white-space: nowrap;text-align: center; vertical-align: middle">
                            {{ job.Mechanism }}
                        </td>
                        <td rowspan="{{ job.RoadSections|length + 1}}" style="white-space: nowrap;text-align: center; vertical-align: middle">
                            {{ job.Job }}
                        </td>
                        <td rowspan="{{ job.RoadSections|length + 1}}" style="white-space: nowrap;text-align: center; vertical-align: middle">
                             {{ job.JobId }}
                        </td>
                        <td rowspan="{{ job.RoadSections|length + 1}}" style="white-space: nowrap;text-align: center; vertical-align: middle">
                            {{ job.JobQuantity }}
                        </td>
                    {% for item in  job.RoadSections %}
                        <tr>

                            <td style="white-space: nowrap;text-align: center; vertical-align: middle">
                                {{ item.SectionId }}
                            </td>
                            <td style="white-space: nowrap;text-align: center; vertical-align: middle">
                                {{ item.SectionType }}
                            </td>
                            <td style="white-space: nowrap;text-align: center; vertical-align: middle">
                                {{ item.SectionBegin }}
                            </td>
                            <td style="white-space: nowrap;text-align: center; vertical-align: middle">
                                {{ item.SectionEnd }}
                            </td>
                            <td style="white-space: nowrap;text-align: center; vertical-align: middle">
                                {{ item.SaltValue }}
                            </td>
                            <td style="white-space: nowrap;text-align: center; vertical-align: middle">
                                {{ item.SandValue }}
                            </td>
                            <td style="white-space: nowrap;text-align: center; vertical-align: middle">
                                {{ item.SolutionValue }}
                            </td>

                        </tr>
                    {% endfor %}
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    {% endblock %}


